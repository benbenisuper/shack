<div class="">
  <%= render "slides", venue: @venue %>
</div>

<div class="container">

  <h1 class="mt-3" style="font-weight: 900"><%= @venue.name %></h1>
  <p><%= @venue.location %></p>

  <div class="row">

    <div class="col-xs-12 col-lg-8">

      <div class="shadow mb-3 rounded">
        <%= render "show_map" %>
      </div>

      <div class="col shadow p-3 bg-white rounded">
        <div class="title-container border-bottom d-flex justify-content-between">
          <h4 class="">Venue Details</h4>
          <% if @venue.user == current_user %>
            <div class="col-md-2">
              <a href="#" class="btn btn-block mb-3" data-toggle="modal" data-target="#pagofacilModal">
                <div class="d-flex my-auto"><i class="far fa-edit text-dark my-auto"></i><span>Edit</span></div>
              </a>
              <div class="modal hide fade" id="pagofacilModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <%= render('modal_form')%>
              </div>
            </div>
          <% end %>
        </div>
        
        <h5 class="mt-4">Description</h5>
        <%= @venue.description %>
        <h5 class="mt-4">Additional information</h5>
        <div class="d-flex justify-content-start">
          <div><strong>Capacity: </strong><%= @venue.capacity %><%= (@venue.capacity == "1" ? ' guest' : ' guests') %></div>
          <div class="ml-5"><strong>Price / day: </strong><%= humanized_money_with_symbol(@venue.price) %></div>
        </div>
        <h5 class="mt-4">Perks</h5>
        <div class="perks mt-3">
          <% @perks.each do |perk| %>
            <div class="d-flex perk-container">
              <i class="fas fa-<%= Venue.perk_icon(perk) %> mr-3 my-auto"></i>
              <strong><%= perk %></strong><br>
            </div>
          <% end %>
        </div>
      </div>
      <% if current_user == @venue.user %>
        <div id="venue-bookings"><%= render("venue_bookings", venue: @venue) %></div>
      <% end %>


      <div class="col shadow p-3 mt-3 bg-white rounded">
        <h4 class="border-bottom">Reviews</h4>

        <% if @venue.reviews.empty? %>
          There are no ratings for this venue, yet
        <% else %>
          <% @venue.reviews.each do |review| %>
            <% unless review.nil? %>
              <div class="review_card">
                <div style="display: flex; justify-content: space-between">
                  <h4><%= review.title %></h4>
                  <h4><%= ('<i class="fas fa-star"></i>' * review.rating).html_safe %><%= ('<i class="far fa-star"></i>' * (5 - review.rating)).html_safe %></h4>
                </div>
                <p><%= review.comment %></p>
              </div>
            <% end %>
          <% end  %>
        <% end %>
      </div>
    </div>

    <div class="col-xs-12 col-lg-4">
      <div class="col shadow p-3 bg-white rounded sticky-div" >
        <div class="wrapper">

          <% if @venue.user == current_user %>
          <h4>Reserved Dates</h4>
          <% else %>
          <h4>Reserve now!</h4>
          <p>Make your reservation today</p>
          <% end %>
          <div class="d-flex justify-content-center">
           <%= render "bookings/form", venue: @venue %>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<br>
<br>
<br>


