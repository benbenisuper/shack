<div class="col shadow p-3 bg-white rounded mt-3">
  <div class="title-container border-bottom d-flex justify-content-between flex-column">
    <h4 class="">Bookings</h4>
    <% if @venue.bookings.where.not(status: "pending").size < 1 %>
      <p class="text-center">Your venue has no bookings yet</p>
    <% else %>
      <table class="table table-cards align-items-center">
        <thead>
          <tr>
            <th>Guest</th>
            <th>Status</th>
            <th>Date</th>
            <th>From</th>
            <th>To</th>
            <th scope="col">Actions</th>
            <th></th>
            <th></th>
          </tr>
        </thead>

        <tbody>
          <% @venue.bookings.where.not(status: "pending").each do |booking| %>
            <% if booking.id %>
              <tr class="hover-shadow-lg hover-translate-y-n3">
                <td>
                  <%= link_to "#{booking.user.full_name}", user_path(booking.user) %>
                </td>
                <td><i class="<%= booking.booking_status_icon %>" style="font-size: 20px;"></i></td>
                <td><%= booking.start_date.strftime("%B %d, %Y") %></td>
                <td><%= booking.start_date.strftime("%H:%M") %></td>
                <td><%= booking.end_date.strftime("%H:%M") %></td>
                <td class="w-10">
                  <%= link_to booking do %>
                    <%= show_svg("icons/external.svg") %>
                    Info
                  <% end %>
                </td>
                <td class="w-10">
                  <%= link_to booking, method: :patch, remote: true do %>
                    <%= show_svg("icons/external.svg") %>
                    Approve
                  <% end %>
                </td>
              </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>
    <% end %>

  </div>
  
</div>